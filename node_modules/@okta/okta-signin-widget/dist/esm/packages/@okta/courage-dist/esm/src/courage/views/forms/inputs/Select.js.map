{"version":3,"file":"Select.js","sources":["../../../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/Select.js"],"sourcesContent":["import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport BaseInput from '../BaseInput.js';\nimport StringUtil from '../../../util/StringUtil.js';\n\nconst template = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<select id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"inputId\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 12\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 23\n        }\n      }\n    }) : helper)) + \"\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"name\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 31\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 39\n        }\n      }\n    }) : helper)) + \"\\\"></select>\";\n  },\n  \"useData\": true\n});\n\nconst option = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<option value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"key\") || (depth0 != null ? lookupProperty(depth0, \"key\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"key\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 15\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 22\n        }\n      }\n    }) : helper)) + \"\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"value\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</option>\";\n  },\n  \"useData\": true\n});\n\nvar Select = BaseInput.extend({\n  className: 'o-form-select',\n\n  /**\n   * @Override\n   */\n  events: {\n    'change select': 'update',\n  },\n  constructor: function () {\n    this.template = template;\n    this.option = this.option || option;\n    BaseInput.apply(this, arguments);\n    this.params = this.options.params || {};\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    /* eslint max-statements: [2, 17] */\n    this.$el.html(template(this.options));\n    this.$select = this.$('select');\n    this.appendOptions(); // Fix a regression in jQuery 1.x on Firefox\n    // jQuery.val(value) prepends an empty option to the dropdown\n    // if value doesnt exist in the dropdown.\n    // http://bugs.jquery.com/ticket/13514\n\n    const value = this.getModelValue();\n\n    if (value) {\n      this.$select.val(value);\n    } else {\n      this.$('option:first-child').prop('selected', true);\n    }\n\n    this.$el.addClass('o-form-control');\n\n    return this;\n  },\n  appendOptions: function () {\n    if (!this.getOptions()) {\n      return;\n    }\n\n    const options = this.getOptions();\n    const keys = Object.keys(options);\n    this.applySortByKey(keys);\n    keys.forEach(key => {\n      // option with no value is a placeholder\n      if (!key) {\n        this.$select.prepend(this.option({\n          key: '',\n          value: StringUtil.localize('select.default_value', 'login')\n        }));\n      } else {\n        this.$select.append(this.option({\n          key: key,\n          value: options[key]\n        }));\n      }\n    });\n\n    // manually trigger the update event when the select is loaded so the initial selected value is set in the model\n    oktaUnderscore.defer(oktaUnderscore.bind(this.update, this));\n  },\n  applySortByKey: function (keys) {\n    const sortByKey = this.options.sortByKey;\n\n    if (!sortByKey) {\n      return;\n    }\n\n    if (sortByKey instanceof Function) {\n      keys.sort(sortByKey);\n    }\n\n    if (sortByKey === 'asc') {\n      keys.sort();\n    }\n\n    if (sortByKey === 'desc') {\n      keys.sort();\n      keys.reverse();\n    }\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    return this.$select && this.$select.val();\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    if (this.$select) {\n      return this.$select.focus();\n    }\n  },\n\n  /**\n   * @Override\n   */\n  toStringValue: function () {\n    const selectedOption = this.getModelValue();\n    let displayString = selectedOption;\n    const options = this.getOptions();\n\n    if (!oktaUnderscore.isEmpty(options)) {\n      displayString = options[selectedOption];\n    }\n\n    if (oktaUnderscore.isUndefined(displayString)) {\n      displayString = this.defaultValue();\n    }\n\n    return displayString || '';\n  },\n\n  /**\n   * Convert options to an object\n   * support input options that is a\n   * 1. a static object such as {key1: val1, key2: val2...}\n   * 2. a function to be called to return a static object\n   * will return an object with key-value pairs or with empty content\n   * @return {Object} The value\n   */\n  getOptions: function () {\n    let options = this.options.options;\n\n    if (oktaUnderscore.isFunction(options)) {\n      options = options.call(this);\n    }\n\n    return oktaUnderscore.isObject(options) ? options : {};\n  },\n  remove: function () {\n    if (this.$select) {\n      this.$select.trigger('remove');\n    }\n\n    return BaseInput.prototype.remove.apply(this, arguments);\n  },\n\n  /**\n   * Code to make the select/combobox component accessible with screen readers.\n   *\n   * @param {boolean} isComboBox - Is the select a combobox?\n   * @param {object} params - params like aria label\n   */\n  // eslint-disable-next-line max-statements\n  accessibilityUpdate: function (isComboBox, params) {\n    const txtBoxId = this.$select.attr('id') + '_txt';\n    const ariaDivId = this.$select.attr('id') + '_aria_div_id';\n    const ulTagId = this.$select.attr('id') + '_ul'; // this is to fix(OKTA-506711) the accessibility issue due to partial support of aria-activedescendant\n    // by Safari. Make use of aria-live to make screenReader announce the option selected by user as a workaround.\n\n    if (isComboBox) {\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-autocomplete', 'list').attr('aria-activedescendant', '').attr('role', 'combobox').attr('aria-expanded', 'true').attr('aria-controls', ulTagId);\n    } else {\n      this.$('input[type=text]').attr('id', txtBoxId).attr('role', 'listbox');\n    }\n\n    if (params && params.aria && params.aria.label) {\n      const ariaLabel = params.aria.label.trim();\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-label', ariaLabel);\n    } else {\n      const ariaLabel = this.$el.parent().prev('.o-form-label').find('label').text().trim();\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-label', ariaLabel);\n    }\n  }\n});\n\nexport { Select as default };\n"],"names":["template","_Handlebars2","container","depth0","helpers","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","option","Select","BaseInput","extend","className","events","constructor","apply","arguments","params","options","editMode","$el","html","$select","$","appendOptions","value","getModelValue","val","prop","addClass","getOptions","keys","applySortByKey","forEach","key","prepend","StringUtil","localize","append","oktaUnderscore","defer","bind","update","sortByKey","Function","sort","reverse","focus","toStringValue","selectedOption","displayString","isEmpty","isUndefined","defaultValue","isFunction","isObject","remove","trigger","accessibilityUpdate","isComboBox","txtBoxId","attr","ulTagId","aria","label","ariaLabel","trim","prev","find","text"],"mappings":";;;;;AAKA,MAAMA,QAAQ,GAAGC,YAAY,CAACD,QAAQ,CAAC;AACrC,EAAA,UAAU,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC;EAC3B,MAAM,EAAE,UAAUE,SAAS,EAAEC,MAAM,EAAEC,OAAO,EAAEC,IAAI,EAAE;AAClD,IAAA,IAAIC,MAAM;AACNC,MAAAA,MAAM,GAAGJ,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAGD,SAAS,CAACM,WAAW,IAAI,EAAE;AAC9DC,MAAAA,MAAM,GAAGP,SAAS,CAACQ,KAAK,CAACC,aAAa;AACtCC,MAAAA,MAAM,GAAG,UAAU;MACnBC,MAAM,GAAGX,SAAS,CAACY,gBAAgB;MACnCC,cAAc,GAAGb,SAAS,CAACa,cAAc,IAAI,UAAUC,MAAM,EAAEC,YAAY,EAAE;AAC/E,QAAA,IAAIC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACL,MAAM,EAAEC,YAAY,CAAC,EAAE;UAC9D,OAAOD,MAAM,CAACC,YAAY,CAAC,CAAA;AAC7B,SAAA;AAEA,QAAA,OAAOK,SAAS,CAAA;OACjB,CAAA;IAED,OAAO,eAAe,GAAGT,MAAM,EAAEP,MAAM,GAAG,CAACA,MAAM,GAAGS,cAAc,CAACX,OAAO,EAAE,SAAS,CAAC,KAAKD,MAAM,IAAI,IAAI,GAAGY,cAAc,CAACZ,MAAM,EAAE,SAAS,CAAC,GAAGA,MAAM,CAAC,KAAK,IAAI,GAAGG,MAAM,GAAGG,MAAM,EAAE,OAAOH,MAAM,KAAKM,MAAM,GAAGN,MAAM,CAACe,IAAI,CAACd,MAAM,EAAE;AACjO,MAAA,MAAM,EAAE,SAAS;MACjB,MAAM,EAAE,EAAE;AACV,MAAA,MAAM,EAAEF,IAAI;AACZ,MAAA,KAAK,EAAE;AACL,QAAA,OAAO,EAAE;AACP,UAAA,MAAM,EAAE,CAAC;AACT,UAAA,QAAQ,EAAE,EAAA;SACX;AACD,QAAA,KAAK,EAAE;AACL,UAAA,MAAM,EAAE,CAAC;AACT,UAAA,QAAQ,EAAE,EAAA;AACZ,SAAA;AACF,OAAA;KACD,CAAC,GAAGC,MAAM,EAAE,GAAG,YAAY,GAAGO,MAAM,EAAEP,MAAM,GAAG,CAACA,MAAM,GAAGS,cAAc,CAACX,OAAO,EAAE,MAAM,CAAC,KAAKD,MAAM,IAAI,IAAI,GAAGY,cAAc,CAACZ,MAAM,EAAE,MAAM,CAAC,GAAGA,MAAM,CAAC,KAAK,IAAI,GAAGG,MAAM,GAAGG,MAAM,EAAE,OAAOH,MAAM,KAAKM,MAAM,GAAGN,MAAM,CAACe,IAAI,CAACd,MAAM,EAAE;AACjO,MAAA,MAAM,EAAE,MAAM;MACd,MAAM,EAAE,EAAE;AACV,MAAA,MAAM,EAAEF,IAAI;AACZ,MAAA,KAAK,EAAE;AACL,QAAA,OAAO,EAAE;AACP,UAAA,MAAM,EAAE,CAAC;AACT,UAAA,QAAQ,EAAE,EAAA;SACX;AACD,QAAA,KAAK,EAAE;AACL,UAAA,MAAM,EAAE,CAAC;AACT,UAAA,QAAQ,EAAE,EAAA;AACZ,SAAA;AACF,OAAA;AACF,KAAC,CAAC,GAAGC,MAAM,EAAE,GAAG,cAAc,CAAA;GAC/B;AACD,EAAA,SAAS,EAAE,IAAA;AACb,CAAC,CAAC,CAAA;AAEF,MAAMiB,MAAM,GAAGtB,YAAY,CAACD,QAAQ,CAAC;AACnC,EAAA,UAAU,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC;EAC3B,MAAM,EAAE,UAAUE,SAAS,EAAEC,MAAM,EAAEC,OAAO,EAAEC,IAAI,EAAE;AAClD,IAAA,IAAIC,MAAM;AACNC,MAAAA,MAAM,GAAGJ,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAGD,SAAS,CAACM,WAAW,IAAI,EAAE;AAC9DC,MAAAA,MAAM,GAAGP,SAAS,CAACQ,KAAK,CAACC,aAAa;AACtCC,MAAAA,MAAM,GAAG,UAAU;MACnBC,MAAM,GAAGX,SAAS,CAACY,gBAAgB;MACnCC,cAAc,GAAGb,SAAS,CAACa,cAAc,IAAI,UAAUC,MAAM,EAAEC,YAAY,EAAE;AAC/E,QAAA,IAAIC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACL,MAAM,EAAEC,YAAY,CAAC,EAAE;UAC9D,OAAOD,MAAM,CAACC,YAAY,CAAC,CAAA;AAC7B,SAAA;AAEA,QAAA,OAAOK,SAAS,CAAA;OACjB,CAAA;IAED,OAAO,kBAAkB,GAAGT,MAAM,EAAEP,MAAM,GAAG,CAACA,MAAM,GAAGS,cAAc,CAACX,OAAO,EAAE,KAAK,CAAC,KAAKD,MAAM,IAAI,IAAI,GAAGY,cAAc,CAACZ,MAAM,EAAE,KAAK,CAAC,GAAGA,MAAM,CAAC,KAAK,IAAI,GAAGG,MAAM,GAAGG,MAAM,EAAE,OAAOH,MAAM,KAAKM,MAAM,GAAGN,MAAM,CAACe,IAAI,CAACd,MAAM,EAAE;AAC5N,MAAA,MAAM,EAAE,KAAK;MACb,MAAM,EAAE,EAAE;AACV,MAAA,MAAM,EAAEF,IAAI;AACZ,MAAA,KAAK,EAAE;AACL,QAAA,OAAO,EAAE;AACP,UAAA,MAAM,EAAE,CAAC;AACT,UAAA,QAAQ,EAAE,EAAA;SACX;AACD,QAAA,KAAK,EAAE;AACL,UAAA,MAAM,EAAE,CAAC;AACT,UAAA,QAAQ,EAAE,EAAA;AACZ,SAAA;AACF,OAAA;KACD,CAAC,GAAGC,MAAM,EAAE,GAAG,KAAK,GAAGO,MAAM,EAAEP,MAAM,GAAG,CAACA,MAAM,GAAGS,cAAc,CAACX,OAAO,EAAE,OAAO,CAAC,KAAKD,MAAM,IAAI,IAAI,GAAGY,cAAc,CAACZ,MAAM,EAAE,OAAO,CAAC,GAAGA,MAAM,CAAC,KAAK,IAAI,GAAGG,MAAM,GAAGG,MAAM,EAAE,OAAOH,MAAM,KAAKM,MAAM,GAAGN,MAAM,CAACe,IAAI,CAACd,MAAM,EAAE;AAC5N,MAAA,MAAM,EAAE,OAAO;MACf,MAAM,EAAE,EAAE;AACV,MAAA,MAAM,EAAEF,IAAI;AACZ,MAAA,KAAK,EAAE;AACL,QAAA,OAAO,EAAE;AACP,UAAA,MAAM,EAAE,CAAC;AACT,UAAA,QAAQ,EAAE,EAAA;SACX;AACD,QAAA,KAAK,EAAE;AACL,UAAA,MAAM,EAAE,CAAC;AACT,UAAA,QAAQ,EAAE,EAAA;AACZ,SAAA;AACF,OAAA;AACF,KAAC,CAAC,GAAGC,MAAM,EAAE,GAAG,WAAW,CAAA;GAC5B;AACD,EAAA,SAAS,EAAE,IAAA;AACb,CAAC,CAAC,CAAA;AAEF,IAAIkB,MAAM,GAAGC,SAAS,CAACC,MAAM,CAAC;AAC5BC,EAAAA,SAAS,EAAE,eAAe;AAE1B;AACF;AACA;AACEC,EAAAA,MAAM,EAAE;AACN,IAAA,eAAe,EAAE,QAAA;GAClB;AACDC,EAAAA,WAAW,EAAE,YAAY;IACvB,IAAI,CAAC7B,QAAQ,GAAGA,QAAQ,CAAA;AACxB,IAAA,IAAI,CAACuB,MAAM,GAAG,IAAI,CAACA,MAAM,IAAIA,MAAM,CAAA;AACnCE,IAAAA,SAAS,CAACK,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;IAChC,IAAI,CAACC,MAAM,GAAG,IAAI,CAACC,OAAO,CAACD,MAAM,IAAI,EAAE,CAAA;GACxC;AAED;AACF;AACA;AACEE,EAAAA,QAAQ,EAAE,YAAY;AACpB;IACA,IAAI,CAACC,GAAG,CAACC,IAAI,CAACpC,QAAQ,CAAC,IAAI,CAACiC,OAAO,CAAC,CAAC,CAAA;IACrC,IAAI,CAACI,OAAO,GAAG,IAAI,CAACC,CAAC,CAAC,QAAQ,CAAC,CAAA;AAC/B,IAAA,IAAI,CAACC,aAAa,EAAE,CAAC;AACrB;AACA;AACA;;AAEA,IAAA,MAAMC,KAAK,GAAG,IAAI,CAACC,aAAa,EAAE,CAAA;AAElC,IAAA,IAAID,KAAK,EAAE;AACT,MAAA,IAAI,CAACH,OAAO,CAACK,GAAG,CAACF,KAAK,CAAC,CAAA;AACzB,KAAC,MAAM;MACL,IAAI,CAACF,CAAC,CAAC,oBAAoB,CAAC,CAACK,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAA;AACrD,KAAA;AAEA,IAAA,IAAI,CAACR,GAAG,CAACS,QAAQ,CAAC,gBAAgB,CAAC,CAAA;AAEnC,IAAA,OAAO,IAAI,CAAA;GACZ;AACDL,EAAAA,aAAa,EAAE,YAAY;AACzB,IAAA,IAAI,CAAC,IAAI,CAACM,UAAU,EAAE,EAAE;AACtB,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMZ,OAAO,GAAG,IAAI,CAACY,UAAU,EAAE,CAAA;AACjC,IAAA,MAAMC,IAAI,GAAG5B,MAAM,CAAC4B,IAAI,CAACb,OAAO,CAAC,CAAA;AACjC,IAAA,IAAI,CAACc,cAAc,CAACD,IAAI,CAAC,CAAA;AACzBA,IAAAA,IAAI,CAACE,OAAO,CAACC,GAAG,IAAI;AAClB;MACA,IAAI,CAACA,GAAG,EAAE;QACR,IAAI,CAACZ,OAAO,CAACa,OAAO,CAAC,IAAI,CAAC3B,MAAM,CAAC;AAC/B0B,UAAAA,GAAG,EAAE,EAAE;AACPT,UAAAA,KAAK,EAAEW,UAAU,CAACC,QAAQ,CAAC,sBAAsB,EAAE,OAAO,CAAA;AAC5D,SAAC,CAAC,CAAC,CAAA;AACL,OAAC,MAAM;QACL,IAAI,CAACf,OAAO,CAACgB,MAAM,CAAC,IAAI,CAAC9B,MAAM,CAAC;AAC9B0B,UAAAA,GAAG,EAAEA,GAAG;UACRT,KAAK,EAAEP,OAAO,CAACgB,GAAG,CAAA;AACpB,SAAC,CAAC,CAAC,CAAA;AACL,OAAA;AACF,KAAC,CAAC,CAAA;;AAEF;AACAK,IAAAA,cAAc,CAACC,KAAK,CAACD,cAAc,CAACE,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAA;GAC7D;EACDV,cAAc,EAAE,UAAUD,IAAI,EAAE;AAC9B,IAAA,MAAMY,SAAS,GAAG,IAAI,CAACzB,OAAO,CAACyB,SAAS,CAAA;IAExC,IAAI,CAACA,SAAS,EAAE;AACd,MAAA,OAAA;AACF,KAAA;IAEA,IAAIA,SAAS,YAAYC,QAAQ,EAAE;AACjCb,MAAAA,IAAI,CAACc,IAAI,CAACF,SAAS,CAAC,CAAA;AACtB,KAAA;IAEA,IAAIA,SAAS,KAAK,KAAK,EAAE;MACvBZ,IAAI,CAACc,IAAI,EAAE,CAAA;AACb,KAAA;IAEA,IAAIF,SAAS,KAAK,MAAM,EAAE;MACxBZ,IAAI,CAACc,IAAI,EAAE,CAAA;MACXd,IAAI,CAACe,OAAO,EAAE,CAAA;AAChB,KAAA;GACD;AAED;AACF;AACA;AACEnB,EAAAA,GAAG,EAAE,YAAY;IACf,OAAO,IAAI,CAACL,OAAO,IAAI,IAAI,CAACA,OAAO,CAACK,GAAG,EAAE,CAAA;GAC1C;AAED;AACF;AACA;AACEoB,EAAAA,KAAK,EAAE,YAAY;IACjB,IAAI,IAAI,CAACzB,OAAO,EAAE;AAChB,MAAA,OAAO,IAAI,CAACA,OAAO,CAACyB,KAAK,EAAE,CAAA;AAC7B,KAAA;GACD;AAED;AACF;AACA;AACEC,EAAAA,aAAa,EAAE,YAAY;AACzB,IAAA,MAAMC,cAAc,GAAG,IAAI,CAACvB,aAAa,EAAE,CAAA;IAC3C,IAAIwB,aAAa,GAAGD,cAAc,CAAA;AAClC,IAAA,MAAM/B,OAAO,GAAG,IAAI,CAACY,UAAU,EAAE,CAAA;AAEjC,IAAA,IAAI,CAACS,cAAc,CAACY,OAAO,CAACjC,OAAO,CAAC,EAAE;AACpCgC,MAAAA,aAAa,GAAGhC,OAAO,CAAC+B,cAAc,CAAC,CAAA;AACzC,KAAA;AAEA,IAAA,IAAIV,cAAc,CAACa,WAAW,CAACF,aAAa,CAAC,EAAE;AAC7CA,MAAAA,aAAa,GAAG,IAAI,CAACG,YAAY,EAAE,CAAA;AACrC,KAAA;IAEA,OAAOH,aAAa,IAAI,EAAE,CAAA;GAC3B;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEpB,EAAAA,UAAU,EAAE,YAAY;AACtB,IAAA,IAAIZ,OAAO,GAAG,IAAI,CAACA,OAAO,CAACA,OAAO,CAAA;AAElC,IAAA,IAAIqB,cAAc,CAACe,UAAU,CAACpC,OAAO,CAAC,EAAE;AACtCA,MAAAA,OAAO,GAAGA,OAAO,CAACZ,IAAI,CAAC,IAAI,CAAC,CAAA;AAC9B,KAAA;IAEA,OAAOiC,cAAc,CAACgB,QAAQ,CAACrC,OAAO,CAAC,GAAGA,OAAO,GAAG,EAAE,CAAA;GACvD;AACDsC,EAAAA,MAAM,EAAE,YAAY;IAClB,IAAI,IAAI,CAAClC,OAAO,EAAE;AAChB,MAAA,IAAI,CAACA,OAAO,CAACmC,OAAO,CAAC,QAAQ,CAAC,CAAA;AAChC,KAAA;IAEA,OAAO/C,SAAS,CAACN,SAAS,CAACoD,MAAM,CAACzC,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAA;GACzD;AAED;AACF;AACA;AACA;AACA;AACA;AACE;AACA0C,EAAAA,mBAAmB,EAAE,UAAUC,UAAU,EAAE1C,MAAM,EAAE;IACjD,MAAM2C,QAAQ,GAAG,IAAI,CAACtC,OAAO,CAACuC,IAAI,CAAC,IAAI,CAAC,GAAG,MAAM,CAAA;IAC/B,IAAI,CAACvC,OAAO,CAACuC,IAAI,CAAC,IAAI,CAAC,GAAG,eAAc;AAC1D,IAAA,MAAMC,OAAO,GAAG,IAAI,CAACxC,OAAO,CAACuC,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;AAChD;;AAEA,IAAA,IAAIF,UAAU,EAAE;MACd,IAAI,CAACpC,CAAC,CAAC,kBAAkB,CAAC,CAACsC,IAAI,CAAC,IAAI,EAAED,QAAQ,CAAC,CAACC,IAAI,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAACA,IAAI,CAAC,uBAAuB,EAAE,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC,CAACA,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC,CAACA,IAAI,CAAC,eAAe,EAAEC,OAAO,CAAC,CAAA;AAC3M,KAAC,MAAM;AACL,MAAA,IAAI,CAACvC,CAAC,CAAC,kBAAkB,CAAC,CAACsC,IAAI,CAAC,IAAI,EAAED,QAAQ,CAAC,CAACC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAA;AACzE,KAAA;IAEA,IAAI5C,MAAM,IAAIA,MAAM,CAAC8C,IAAI,IAAI9C,MAAM,CAAC8C,IAAI,CAACC,KAAK,EAAE;MAC9C,MAAMC,SAAS,GAAGhD,MAAM,CAAC8C,IAAI,CAACC,KAAK,CAACE,IAAI,EAAE,CAAA;AAC1C,MAAA,IAAI,CAAC3C,CAAC,CAAC,kBAAkB,CAAC,CAACsC,IAAI,CAAC,IAAI,EAAED,QAAQ,CAAC,CAACC,IAAI,CAAC,YAAY,EAAEI,SAAS,CAAC,CAAA;AAC/E,KAAC,MAAM;MACL,MAAMA,SAAS,GAAG,IAAI,CAAC7C,GAAG,CAACnB,MAAM,EAAE,CAACkE,IAAI,CAAC,eAAe,CAAC,CAACC,IAAI,CAAC,OAAO,CAAC,CAACC,IAAI,EAAE,CAACH,IAAI,EAAE,CAAA;AACrF,MAAA,IAAI,CAAC3C,CAAC,CAAC,kBAAkB,CAAC,CAACsC,IAAI,CAAC,IAAI,EAAED,QAAQ,CAAC,CAACC,IAAI,CAAC,YAAY,EAAEI,SAAS,CAAC,CAAA;AAC/E,KAAA;AACF,GAAA;AACF,CAAC;;;;"}