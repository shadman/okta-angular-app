{"version":3,"file":"ChallengeViewUtil.js","sources":["../../../../../../src/v2/view-builder/utils/ChallengeViewUtil.js"],"sourcesContent":["/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { loc, View, createButton, createCallout, _ } from '@okta/courage';\nimport hbs from '@okta/handlebars-inline-precompile';\nimport Enums from 'util/Enums';\nimport { ChromeLNADeniedError } from 'util/Errors';\nimport Util from 'util/Util';\nimport {\n  FASTPASS_FALLBACK_SPINNER_TIMEOUT,\n  IDENTIFIER_FLOW,\n  LOOPBACK_RESPONSE_STATUS_CODE,\n  OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP, \n  OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE,\n  REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON,\n} from '../utils/Constants';\nimport BrowserFeatures from '../../../util/BrowserFeatures';\n\nexport function appendLoginHint(deviceChallengeUrl, loginHint) {\n  if (deviceChallengeUrl && loginHint) {\n    deviceChallengeUrl += '&login_hint=' + loginHint;\n  }\n\n  return deviceChallengeUrl;\n}\n\nconst LNAErrorViewContent = View.extend({\n  template: hbs`\n  {{i18n code=\"chrome.lna.error.description.part1\" bundle=\"login\"}}\n  <br><br>\n  {{i18n code=\"chrome.lna.error.description.part2\" bundle=\"login\"}}\n  <br><br>\n  {{i18n code=\"chrome.lna.error.description.more.information\" bundle=\"login\"\n    $1=\"<a href='#' target='_blank' rel='noopener noreferrer' class='chrome-lna-help-link'>$1</a>\"}}\n  `,\n  getTemplateData() {\n    this.chromeLNAHelpLink = this.options.chromeLNAHelpLink;\n  },\n  render() {\n    View.prototype.render.apply(this, arguments);\n    if (this.chromeLNAHelpLink) {\n      this.$el.find('.chrome-lna-help-link').attr('href', this.chromeLNAHelpLink);\n    }\n  },\n});\n\nfunction addLNAErrorView(view, chromeLNAHelpLink) {\n  view.add(createCallout({\n    title: loc('chrome.lna.error.title', 'login'),\n    content: new LNAErrorViewContent({ chromeLNAHelpLink }),\n    type: 'error'\n  }));\n}\n\nfunction addLoopbackView(view, deviceChallenge) {\n  view.add(View.extend({\n    className: 'loopback-content',\n    template: hbs`<div class=\"spinner\"></div>`\n  }));\n  view.doLoopback(deviceChallenge);\n}\n\nfunction updateChromeLNATitle(view, newTitle) {\n  view.title = newTitle;\n  if (view.$ && view.$('.okta-form-title').length) {\n    view.$('.okta-form-title').text(newTitle);\n  }\n}\n\nfunction handlePermissionState(view, currPermissionState, deviceChallenge) {\n  view.removeChildren();\n  switch(currPermissionState) {\n  case 'prompt':\n  case 'granted':\n    updateChromeLNATitle(view, loc('deviceTrust.sso.redirectText', 'login'));\n    addLoopbackView(view, deviceChallenge);\n    break;\n  case 'denied': {\n    // If there is no previous form name, it is a silent probe triggered by the registered condition\n    const isRegisteredConditionSilentProbe = view.options?.appState?.get('previousFormName') === undefined;\n    if (isRegisteredConditionSilentProbe) {\n      updateChromeLNATitle(view, loc('deviceTrust.sso.redirectText', 'login'));\n      addLoopbackView(view, deviceChallenge);\n    } else {\n      updateChromeLNATitle(view, loc('chrome.lna.fastpass.requires.permission.title', 'login'));\n      addLNAErrorView(view, deviceChallenge.chromeLocalNetworkAccessDetails?.chromeLNAHelpLink);\n      // Log error for Sentry monitoring\n      throw new ChromeLNADeniedError('Chrome Local Network Access permission was denied for FastPass.');\n    }\n    break;\n  }\n  default:\n    updateChromeLNATitle(view, loc('deviceTrust.sso.redirectText', 'login'));\n    addLoopbackView(view, deviceChallenge);\n    break;\n  }\n}\n\nexport function doChallenge(view, fromView) {\n  const deviceChallenge = view.getDeviceChallengePayload();\n  const { chromeLocalNetworkAccessDetails } = deviceChallenge || {};\n  const loginHint = view.options?.settings?.get('identifier');\n  const HIDE_CLASS = 'hide';\n  switch (deviceChallenge.challengeMethod) {\n  case Enums.LOOPBACK_CHALLENGE: {\n    view.title = loc('deviceTrust.sso.redirectText', 'login');\n    if (chromeLocalNetworkAccessDetails) {\n      BrowserFeatures.getChromeLNAPermissionState(\n        (currPermissionState) => handlePermissionState(view, currPermissionState, deviceChallenge)\n      );\n    } else {\n      addLoopbackView(view, deviceChallenge);\n    }\n    break;\n  }\n  case Enums.CUSTOM_URI_CHALLENGE:\n    view.title = loc('customUri.title', 'login');\n    view.add(View.extend({\n      className: 'skinny-content',\n      template: hbs`\n            <p>\n              {{i18n code=\"customUri.required.content.prompt\" bundle=\"login\"}}\n            </p>\n          `,\n    }));\n    view.add(createButton({\n      className: 'ul-button button button-wide button-primary',\n      title: loc('oktaVerify.open.button', 'login'),\n      id: 'launch-ov',\n      click: () => {\n        view.doCustomURI();\n      }\n    }));\n    view.add(View.extend({\n      className: 'skinny-content',\n      template: hbs`\n          <p>\n            {{i18n code=\"customUri.required.content.download.title\" bundle=\"login\"}}\n          </p>\n          <p>\n            <a href=\"{{downloadOVLink}}\" target=\"_blank\" id=\"download-ov\" class=\"link\">\n              {{i18n code=\"customUri.required.content.download.linkText\" bundle=\"login\"}}\n            </a>\n          </p>\n          `,\n      getTemplateData() {\n        return {\n          downloadOVLink: deviceChallenge.downloadHref\n        };\n      },\n    }));\n    view.customURI = appendLoginHint(deviceChallenge.href, loginHint);\n    view.doCustomURI();\n    break;\n  case Enums.UNIVERSAL_LINK_CHALLENGE:\n    view.title = loc('universalLink.title', 'login');\n    view.add(View.extend({\n      className: 'universal-link-content',\n      template: hbs`\n            <div class=\"spinner\"></div>\n            {{i18n code=\"universalLink.content\" bundle=\"login\"}}\n          `\n    }));\n    view.add(createButton({\n      className: 'ul-button button button-wide button-primary',\n      title: loc('oktaVerify.open.button', 'login'),\n      click: () => {\n        // only window.location.href can open universal link in iOS/MacOS\n        // other methods won't do, ex, AJAX get or form get (Util.redirectWithFormGet)\n        let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, loginHint);\n        Util.redirect(deviceChallengeUrl);\n      }\n    }));\n    break;\n  case Enums.APP_LINK_CHALLENGE:\n    view.title = loc('appLink.title', 'login');\n    view.add(View.extend({\n      className: 'app-link-content',\n      template: hbs`\n        <div class=\"spinner {{hideClass}}\"></div>\n        <div class=\"appLinkContent {{hideClass}}\">{{i18n code=\"appLink.content\" bundle=\"login\"}}</div>\n      `,\n      getTemplateData() {\n        return { hideClass: HIDE_CLASS };\n      },\n      postRender() {\n        if (fromView === IDENTIFIER_FLOW) {\n          this.$('.spinner').removeClass(HIDE_CLASS);\n          setTimeout(_.bind(()=> {\n            const data = { label: loc('goback', 'login') };\n            this.options.appState.trigger('updateFooterLink', data);\n            this.$('.spinner').addClass(HIDE_CLASS);\n            this.$('.appLinkContent').removeClass(HIDE_CLASS);\n          }, this), FASTPASS_FALLBACK_SPINNER_TIMEOUT);\n        } else {\n          this.$('.appLinkContent').removeClass(HIDE_CLASS);\n        }\n      },\n    }));\n    view.add(createButton({\n      className: `${HIDE_CLASS} al-button button button-wide button-primary`,\n      title: loc('oktaVerify.open.button', 'login'),\n      click: () => {\n        // only window.location.href can open app link in Android\n        // other methods won't do, ex, AJAX get or form get (Util.redirectWithFormGet)\n        let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, loginHint);\n        Util.redirect(deviceChallengeUrl, window, true);\n      },\n      postRender() {\n        if (fromView === IDENTIFIER_FLOW) {\n          setTimeout(_.bind(()=> {\n            this.$el.removeClass(HIDE_CLASS);\n          }, this), FASTPASS_FALLBACK_SPINNER_TIMEOUT);\n        } else {\n          this.$el.removeClass(HIDE_CLASS);\n        }\n      }\n    }));\n    break;\n  case Enums.CHROME_DTC:\n    // reusing the existing message for Chrome DTC\n    view.title = loc('deviceTrust.sso.redirectText', 'login');\n    view.add(View.extend({\n      className: 'chrome-dtc-content',\n      template: hbs`\n            <div class=\"spinner\"></div>\n          `\n    }));\n    view.doChromeDTC(deviceChallenge);\n    break;\n  }\n}\n\nexport function cancelPollingWithParams(appState, pollingCancelAction, cancelReason, statusCode, showFormErrors) {\n  const actionParams = {};\n  actionParams[REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON] = cancelReason;\n  actionParams[LOOPBACK_RESPONSE_STATUS_CODE] = statusCode;\n  appState.trigger('invokeAction', pollingCancelAction, actionParams, showFormErrors);\n}\n\nexport function getBiometricsErrorOptions(error, isMessageObj) {\n  let errorSummaryKeys;\n  if (isMessageObj) {\n    errorSummaryKeys  = Object.values(error?.value[0]?.i18n);\n  } else {\n    errorSummaryKeys = error?.responseJSON?.errorSummaryKeys;\n  }\n\n  const isBiometricsRequiredMobile = errorSummaryKeys \n      && errorSummaryKeys.includes(OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE);\n  const isBiometricsRequiredDesktop = errorSummaryKeys \n      && errorSummaryKeys.includes(OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP);\n  let options = [];\n\n  if (!isBiometricsRequiredMobile && !isBiometricsRequiredDesktop) {\n    return options;\n  }\n\n  const bulletPoints = [\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point1', 'login'),\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point2', 'login'),\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point3', 'login')\n  ];\n\n  // Add an additional bullet point for desktop devices\n  if (isBiometricsRequiredDesktop) {\n    bulletPoints.push(\n      loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point4', 'login')\n    );\n  }\n\n  options = {\n    type: 'error',\n    className: 'okta-verify-uv-callout-content',\n    title: loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.title', 'login'),\n    subtitle: loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.description', 'login'),\n    bullets: bulletPoints,\n  };\n\n  return options;\n}\n\nexport function createInvisibleIFrame(iFrameId, iFrameSrc) {\n  const iFrameView = View.extend({\n    tagName: 'iframe',\n    id: iFrameId,\n    attributes: {\n      src: iFrameSrc,\n    },\n    initialize() {\n      this.el.style.display = 'none';\n    }\n  });\n  return iFrameView;\n}\n"],"names":["appendLoginHint","deviceChallengeUrl","loginHint","LNAErrorViewContent","View","extend","template","getTemplateData","chromeLNAHelpLink","options","render","prototype","apply","arguments","$el","find","attr","addLNAErrorView","view","add","createCallout","title","loc","content","type","addLoopbackView","deviceChallenge","className","doLoopback","updateChromeLNATitle","newTitle","$","length","text","handlePermissionState","currPermissionState","removeChildren","isRegisteredConditionSilentProbe","appState","get","undefined","chromeLocalNetworkAccessDetails","ChromeLNADeniedError","doChallenge","fromView","getDeviceChallengePayload","settings","HIDE_CLASS","challengeMethod","Enums","LOOPBACK_CHALLENGE","BrowserFeatures","getChromeLNAPermissionState","CUSTOM_URI_CHALLENGE","createButton","id","click","doCustomURI","downloadOVLink","downloadHref","customURI","href","UNIVERSAL_LINK_CHALLENGE","Util","redirect","APP_LINK_CHALLENGE","hideClass","postRender","IDENTIFIER_FLOW","removeClass","setTimeout","_","bind","data","label","trigger","addClass","FASTPASS_FALLBACK_SPINNER_TIMEOUT","window","CHROME_DTC","doChromeDTC","cancelPollingWithParams","pollingCancelAction","cancelReason","statusCode","showFormErrors","actionParams","REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON","LOOPBACK_RESPONSE_STATUS_CODE","getBiometricsErrorOptions","error","isMessageObj","errorSummaryKeys","Object","values","value","i18n","responseJSON","isBiometricsRequiredMobile","includes","OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE","isBiometricsRequiredDesktop","OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP","bulletPoints","push","subtitle","bullets","createInvisibleIFrame","iFrameId","iFrameSrc","iFrameView","tagName","attributes","src","initialize","el","style","display"],"mappings":"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"}